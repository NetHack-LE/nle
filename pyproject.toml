[tool.black]
line-length = 88
target-version = ['py38']
include = '\.pyi?$'
exclude = '''
/(
    \.eggs
  | \.git
  | src
  | win/rl/nethack_rl
)/
'''

[tool.isort]
force_single_line = true
profile = "black"
skip_glob = "**/__init__.py"

[tool.ruff]
# See https://docs.astral.sh/ruff/rules/.
extend-exclude = [
  "third_party",
]
exclude = ["win/rl/nle"]
[tool.ruff.lint]
ignore = [
    "B008",
    "B905",
    "C901",
    "E501",
    "E731",
]
select = [
    "B",
    "B9",
    "C",
    "E",
    "F",
    "W",
    "R",
]
[tool.ruff.lint.flake8-comprehensions]
allow-dict-calls-with-keyword-arguments = true
[tool.ruff.lint.per-file-ignores]
"__init__.py" = ["F401"]  # unused-import.

[tool.cibuildwheel]
# We need to build for the following Python versions:
build = "cp{38,39,310,311,312}-*"

[tool.cibuildwheel.linux]
# Only manylinux is supported (no musl)
build = "cp{38,39,310,311,312}-manylinux*"

# For manylinux2014 (CentOS 7-based) or manylinux_2_28 (Alma 8-based) 
# we need to install the following dependencies using yum:
before-all = "yum install -y autoconf bison cmake flex git libtool bzip2-devel"

# Only build for x86_64 and aarch64 are officially supported
archs = "x86_64 aarch64"
manylinux-x86_64-image = "manylinux2014"
manylinux-aarch64-image = "manylinux2014"

[tool.cibuildwheel.macos]
before-all = "brew install cmake"
